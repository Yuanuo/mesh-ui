<div class="tag-bar-container">
    <div class="add-tag"
         [style.width.px]="buttonWidth$ | async"
         [class.active]="inputIsFocused || displayTagSelection"
         (click)="addTagClick()">
        <gtx-button type="primary"
                    flat
                    size="small"
                    class="add-tag-button">
            <icon left>label_outline</icon>{{ 'editor.add_tag' | i18n }}
        </gtx-button>
        <gtx-input [(ngModel)]="filterTerm"
                   placeholder="{{ 'editor.add_tag' | i18n }}"
                   (change)="onFilterChange($event)"
                   (focus)="onInputFocus($event)"
                   (blur)="onInputBlur()"
        ></gtx-input>
    </div>
    <div class="tags-list">
        <mesh-tag *ngFor="let tag of nodeTags; index as i"
                  [style.marginLeft.px]="i === 0 ? (buttonWidth$ | async) : 0"
                  [tag]="tag"
                  (removeClick)="onTagDeleted(tag)"></mesh-tag>
    </div>
</div>
<mesh-tag-selector [tags]="filteredTags"
                   [active]="displayTagSelection"
                   [filterTerm]="filterTerm"
                   [canCreate]="true"
                   (selectTag)="onTagSelected($event)"
                   (close)="displayTagSelection = false"
                   (createNewTag)="onCreateNewTagClick($event)"></mesh-tag-selector>
