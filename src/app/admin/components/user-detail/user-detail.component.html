<div class="user-details">
    <form [formGroup]="form">
        <div class="row">
            <div class="small-12 medium-6 columns">
                <gtx-input formControlName="userName"
                           [readonly]="readOnly"
                           [label]="'admin.user_name_label' | i18n"></gtx-input>
            </div>
            <div class="small-12 medium-6 columns">
                <ng-container *ngIf="isNew">
                    <gtx-input formControlName="password"
                               type="password"
                               [readonly]="readOnly"
                               [label]="'admin.password_label' | i18n"></gtx-input>
                </ng-container>
            </div>
        </div>
        <div class="row">
            <div class="small-12 medium-6 columns">
                <gtx-input formControlName="firstName"
                           [readonly]="readOnly"
                           [label]="'admin.first_name_label' | i18n"></gtx-input>
            </div>
            <div class="small-12 medium-6 columns">
                <gtx-input formControlName="lastName"
                           [readonly]="readOnly"
                           [label]="'admin.last_name_label' | i18n"></gtx-input>
            </div>
        </div>
        <div class="row">
            <div class="small-12 columns">
                <gtx-input formControlName="emailAddress"
                           [readonly]="readOnly"
                           [label]="'admin.email_address_label' | i18n"></gtx-input>
            </div>
        </div>
    </form>
</div>

<div class="node-reference row">
    <label>{{ 'admin.user_node_reference_label' | i18n }}</label>
    <form-generator #formGenerator
                    *ngIf="userNode$ | async as node"
                    [node]="node"
                    [schema]="userNodeSchema$ | async"></form-generator>
</div>

<div class="actions">
    <gtx-button type="primary"
                class="save-button"
                [disabled]="!isSaveButtonEnabled()"
                (click)="persistUser()">
        <ng-container *ngIf="!isNew">{{ 'admin.update_user' | i18n }}</ng-container>
        <ng-container *ngIf="isNew">{{ 'admin.create_user' | i18n }}</ng-container>
    </gtx-button>
</div>
