# Cai Lun Admin UI

Browser-based client app for the Cai Lun CMS REST API.

## Build

```Shell
npm install
bower install
gulp watch
```


## Folder Structure

```
src/                        // the source files for the app
 |
 |-app/                     // app javascripts, templates, styles and unit tests
 |  |
 |  |-common/               // components and services used in more than one of the app
 |  |   |-components/       // common UI components (directives)
 |  |   |-services/         // common services
 |  |
 |  |-login/                // specific parts of the app, e.g. login, projetcs, users etc.
 |  |- etc...
 |
 |-assets/                  // static assets
 |  |-fonts
 |  |-images/           
 |
 |-styles/                  // app-wide styles. Styles specific to a component or section should reside with that component/section.
 
build/                      // dev version of the app generated by the gulp build task
e2e/                        // end-to-end tests
```

## Modular Components

The app is organized into logical components, and each component is typically in its own folder. This folder contains *all* code 
pertaining to this component, including JavaScripts, HTML templates, .less files, and unit tests.

Example:

```
myComponent/
  |-myComponent.js          // The component code (e.g. an Angular directive, service etc.)
  |-myComponent.spec.js     // Unit tests for the component
  |-myComponent.html        // The template for the component (if applicable)
  |-myComponent.less        // Custom styles for the component (if applicable)
```

Gulp is configured to automatically include the .less files into the main app stylesheet on build.

## Testing

### Unit Tests

Unit tests are written with the Jasmine framework and each suite should be named after the component it is testing, with the extension
".spec.js". E.g. unit tests for "myComponent.js" would live in "myComponent.spec.js", which should be in the same folder.

Tests are run with the Karma test runner, which will be started when you run `gulp watch` and will re-run all tests whenever a `.js` or `.spec.js` 
file is modified.

### End-to-end Tests

e2e tests reside in the `e2e/` folder. Since they are slow to run, they are not part of the gulp watch task. Run them with `gulp e2e`.